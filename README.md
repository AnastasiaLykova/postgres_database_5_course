# Проект “Работа с базами данных ”

Программа позволят получать вакансии по списку работодателей, загружать полученные даные в базу postgres и работать с ней через DBManager.

## Использование
1. Замените в файле database.ini пароль на свой.

2. Заполните список employers_id в main.py и запустите его.

   id работодателя можно найти в адресной строке сайта hh, например:
   `https://ufa.hh.ru/employer/3776?dpt=mts-3776-main&hhtmFrom=vacancy` <- id 3776

   Или через запрос с url `https://api.hh.ru/employers`

3. Результаты запроса будут сохранены в файл vacancies.json.

   В базе данных создается две таблицы (employers, vacancies), с полями, описанными в queries.sql
    
4. Дополнительно создан модуль для работы с БД через python, который имеет следующие методы:
  - `get_companies_and_vacancies_count()`: получает список всех компаний и количество вакансий у каждой компании.
  - `get_all_vacancies()`: получает список всех вакансий с указанием названия компании, названия вакансии и зарплаты и ссылки на вакансию.
  - `get_avg_salary()`: получает среднюю зарплату по вакансиям.
  - `get_vacancies_with_higher_salary()`: получает список всех вакансий, у которых зарплата выше средней по всем вакансиям.
  - `get_vacancies_with_keyword()`: получает список всех вакансий, в названии которых содержатся переданные в метод слова, например “python”.
